{% extends 'base.html.twig' %}

{% block javascripts %}
 {{ parent() }}
 <script src="{{ asset('js/htmx.min.js') }}"></script>
 <script type="module" src="{{ asset('js/search/searchBar.js') }}"></script>
{% endblock %}


{% block title %}Movie index{% endblock %}

{% block body %}


<h3> 
  Search Movies 
  <span class="htmx-indicator"> 
    <img src="/img/bars.svg"/> Searching... 
   </span> 
</h3>
<input class="form-control" type="search" 
       name="search" placeholder="Begin Typing To Search Movies..." 
       data-hx-get={{path('app_movie_search')}}
       hx-trigger="input changed delay:500ms, search, load delay:.2s" 
       hx-target="#search-results" 
       hx-indicator=".htmx-indicator"
       value="{{baseSearch}}">

<div id="search-space">
    <div id="search-results">

    </div>
</div>

    <a href="{{ path('app_movie_new') }}">Create new</a>

{% endblock %}
