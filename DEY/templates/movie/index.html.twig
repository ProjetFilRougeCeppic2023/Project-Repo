{% extends 'base.html.twig' %}

{% block javascripts %}
	{{ parent() }}
	<script src="{{ asset('js/htmx.min.js') }}"></script>
	<script type="module" src="{{ asset('js/search/searchBar.js') }}"></script>
{% endblock %}


{% block title %}
	Movie index
{% endblock %}

{% block body %}


	<h3>
		Search Movies
		<span class="htmx-indicator">
			<img src="/img/bars.svg"/>
			Searching...
		</span>
	</h3>
	<input class="form-control" type="search" name="search" 
    placeholder="Begin Typing To Search Movies..." 
    data-hx-get={{path('app_movie_search')}} 
    hx-trigger="input changed delay:500ms, search, load" 
    hx-target="#search-results" 
    hx-indicator=".htmx-indicator" value="{{baseSearch}}">

	<p>
		Order by :
		<span>
			<input type="radio" class="btn-check" name="options" id="option1" autocomplete="off" checked>
			<label class="btn btn-primary" for="option1">
				Most Recent
			</label>

			<input type="radio" class="btn-check" name="options" id="option2" autocomplete="off">
			<label class="btn btn-primary" for="option2">
				Oldest
			</label>
		</span>
	</p>	
	<p>
		Tags :
		<span>
		{% for tag in tags %}
			<input type="checkbox" class="btn-check" id="btn-check-{{ tag.id }}" autocomplete="off" name="{{ 'tag' ~ tag.id }}">
			<label class="btn btn-outline-primary" for="btn-check-{{ tag.id }}">{{tag.name}}</label>
		{% endfor %}

		</span>
	</p>
  
	<div id="search-space">
		<div id="search-results">
    </div>
	

	<a href="{{ path('app_movie_new') }}">
		Create new
	</a>
	<a href="{{ path('app_movie_index',{'baseSearch': 'bl'}) }}">
		Test
	</a>

{% endblock %}
